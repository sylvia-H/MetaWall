var L=Object.defineProperty,U=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var m=(o,t,s)=>t in o?L(o,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[t]=s,d=(o,t)=>{for(var s in t||(t={}))V.call(t,s)&&m(o,s,t[s]);if(f)for(var s of f(t))T.call(t,s)&&m(o,s,t[s]);return o},g=(o,t)=>U(o,N(t));import{m as p,_ as v,r as i,o as _,c as y,a as e,d as r,w as a,t as x,b as O,j,g as A,F as E}from"./index.dc3639a3.js";import{u as h,s as B}from"./postStore.fbf06d71.js";import{V as R}from"./LoadingOverlay.a8746287.js";const z={computed:d({},p(h,["user"])),methods:{logOut(){document.cookie="AUTH_TOKEN=",this.$router.push({name:"login"})}}},H={class:"bg-white border-b-2 border-secondary w-full fixed"},K={class:"container_wall mx-auto flex justify-between items-center py-3"},P=e("h1",{class:"font-paytone-one text-2xl text-secondary mb-2"}," MetaWall ",-1),C={class:"relative group"},M={class:"flex items-center"},S={class:"h-8 w-8 border-2 border-secondary rounded-full overflow-hidden mr-2.5"},G=["src","alt"],F={class:"font-azeret-mono font-bold text-base border-b-2 border-secondary"},D={class:"absolute hidden group-hover:block top-9 bg-white border-2 border-secondary shadow-lg"},W={class:"nav_dropMenu relative bg-white"},q={class:"font-noto-sans-tc text-base text-center w-48"},I=e("li",{class:"py-2 border-b-2 border-secondary hover:bg-gray-1"}," \u6211\u7684\u8CBC\u6587\u7246 ",-1),J=e("li",{class:"py-2 border-b-2 border-secondary hover:bg-gray-1"}," \u4FEE\u6539\u500B\u4EBA\u8CC7\u6599 ",-1);function Q(o,t,s,w,b,l){const n=i("RouterLink");return _(),y("nav",H,[e("ul",K,[e("li",null,[r(n,{to:"/main"},{default:a(()=>[P]),_:1})]),e("li",C,[r(n,{to:`/main/space/${o.user._id}`},{default:a(()=>[e("div",M,[e("div",S,[e("img",{class:"object-cover w-full h-full",src:o.user.avatar,alt:`${o.user.name}'s avatar`},null,8,G)]),e("p",F,x(o.user.name),1),e("div",D,[e("div",W,[e("ul",q,[r(n,{to:`/main/space/${o.user._id}`},{default:a(()=>[I]),_:1},8,["to"]),r(n,{to:"/main/profile"},{default:a(()=>[J]),_:1}),e("li",{onClick:t[0]||(t[0]=(...c)=>l.logOut&&l.logOut(...c)),class:"py-2 hover:bg-gray-1"},"\u767B\u51FA")])])])])]),_:1},8,["to"])])])])}var X=v(z,[["render",Q]]);const Y={data(){return{isUpdateUser:!1}},components:{Navbar:X,VueLoader:R},computed:d(d({},p(h,["user"])),p(B,["isLoading"])),methods:g(d({},O(h,["updateUser"])),{getProfile(){this.isLoading=!0;const o=document.cookie.split("AUTH_TOKEN=").pop().split(";").shift();let t="https://fierce-headland-11812.herokuapp.com/users/profile";this.axios({method:"GET",url:t,headers:{Authorization:`Bearer ${o}`}}).then(s=>{this.isLoading=!1,this.updateUser(s.data.data),this.isUpdateUser=!0}).catch(s=>{this.isLoading=!1,console.dir(s)})}}),mounted(){let o;document.cookie.split("AUTH_TOKEN=").length===2&&(o=document.cookie.split("AUTH_TOKEN=").pop().split(";").shift()),o?this.getProfile():this.$router.push({name:"login"})}},Z={class:"min-h-screen bg-grid py-28"},ee={class:"container_wall mx-auto flex justify-between"},oe={class:"w-80 h-88 bg-white border-2 border-secondary py-8 px-6"},te=e("button",{class:"w-full py-4 rounded-lg bg-primary border-2 border-secondary hover:bg-blue-700 text-white font-bold text-base mb-6"}," \u5F35\u8CBC\u52D5\u614B ",-1),se={class:"font-noto-sans-tc font-bold text-base"},re={class:"flex items-center mb-6"},ae={class:"h-12 w-12 border-2 border-secondary rounded-full overflow-hidden mr-4"},ne=["src"],ie={class:"group-hover:cursor-pointer"},de=e("li",{class:"group flex items-center mb-6"},[e("button",{type:"button",class:"flex items-center justify-center h-12 w-12 border-2 border-secondary rounded-full bg-info group-hover:drop-shadow-md group-hover:bg-blue-200 mr-4"},[e("span",{class:"iconify text-xl font-extrabold","data-icon":"bi:bell"})]),e("p",{class:"group-hover:cursor-pointer group-hover:border-b-2 border-secondary"}," \u8FFD\u8E64\u540D\u55AE ")],-1),le=e("li",{class:"group flex items-center"},[e("button",{type:"button",class:"flex items-center justify-center h-12 w-12 border-2 border-secondary rounded-full bg-info group-hover:drop-shadow-md group-hover:bg-blue-200 mr-4"},[e("span",{class:"iconify text-xl font-extrabold","data-icon":"bi:hand-thumbs-up"})]),e("p",{class:"group-hover:cursor-pointer group-hover:border-b-2 border-secondary"}," \u6211\u6309\u8B9A\u7684\u6587\u7AE0 ")],-1);function ce(o,t,s,w,b,l){const n=i("VueLoader"),c=i("VLoading"),$=i("Navbar"),k=i("RouterView"),u=i("RouterLink");return _(),y(E,null,[r(c,{active:o.isLoading,"z-index":3e3},{default:a(()=>[r(n)]),_:1},8,["active"]),r($,{class:"fixed"}),e("main",Z,[e("div",ee,[e("div",null,[b.isUpdateUser?(_(),j(k,{key:0,onGetProfile:l.getProfile},null,8,["onGetProfile"])):A("",!0)]),e("div",oe,[r(u,{to:"/main/post"},{default:a(()=>[te]),_:1}),e("ul",se,[e("li",re,[e("div",ae,[e("img",{class:"object-cover w-full h-full",src:o.user.avatar,alt:"user's avatar"},null,8,ne)]),e("p",ie,x(o.user.name),1)]),r(u,{to:"/main/follow"},{default:a(()=>[de]),_:1}),r(u,{to:"/main/likes"},{default:a(()=>[le]),_:1})])])])])],64)}var be=v(Y,[["render",ce]]);export{be as default};
